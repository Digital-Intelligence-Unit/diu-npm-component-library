<app-size-detector></app-size-detector>
<div fxLayout="row wrap" style="margin-top: 10px 0 0">
    <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100" fxLayoutAlign="center center">
        <mat-card style="width: 100%; margin-bottom: 0">
            <mat-card-header (click)="settings.display = !settings.display" style="align-items: center;">
                <mat-card-title-group>
                    <mat-card-title>Latest News (NHS Twitter)</mat-card-title>
                </mat-card-title-group>
                <div fxFlex></div>
                <div fxLayoutAlign="center center">
                    <button class="tw-text-blue" title="Collapse">
                        <mat-icon>swap_vertical_circle</mat-icon>
                    </button>
                </div>
            </mat-card-header>
            <mat-card-content>
                <button class="btn-rounded btn-blue nav left" [disabled]="settings.index === 0" (click)="previousSlide()">
                    <mat-icon>chevron_left</mat-icon>
                </button>
                <div fxLayout="row wrap" fxLayoutGap="15px" *ngIf="settings.display && !isIE" fxLayoutAlign="center top">
                    <div *ngFor="let feed of twitterfeeds.slice(settings.index, settings.index + settings.numCols); let i = index" fxFlex>
                        <iframe class="w-100" frameborder="0" height="600" [srcdoc]="feed.html"></iframe>
                    </div>
                </div>
                <button class="btn-rounded btn-blue nav right" [disabled]="(settings.index + settings.numCols) === settings.total" (click)="nextSlide()">
                    <mat-icon>chevron_right</mat-icon>
                </button>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<div fxLayout="row wrap" *ngIf="isIE">
    <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">
        <mat-card class="slim-top bg-warning" style="padding-bottom: 10px">
            <mat-card-content class="text-white" style="padding-top: 10px; padding-bottom: 10px">
                <div fxLayoutAlign="center center">
                    <i class="icon-2x fas fa-circle-exclamation"></i>
                    <p style="margin-left: 5px; text-align: center">Twitter Feeds are not supported in this Browser.</p>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>
