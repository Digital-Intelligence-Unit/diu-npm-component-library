<div class="user-profile" style="background-color: #27205d">
    <div class="profile-img" *ngIf="minisidebar">
      <img src="assets/images/x_crop.png" alt="Nexus Intelligence" height="85px" width="72px" (click)="navHome()" />
    </div>
    <div class="profile-text" style="margin-left: 2px" *ngIf="!minisidebar">
      <img src="assets/images/nexusgen_crop.png" alt="Nexus Intelligence" width="230px" style="margin-top: 15px" (click)="navHome()" />
    </div>
  </div>
  
  <mat-nav-list appAccordion>
    <mat-list-item appAccordionLink *ngFor="let menuitem of shownMenuItems" routerLinkActive="selected">
      <!-- Internal link -->
      <a class="" appAccordionToggle [routerLink]="menuitem.state" *ngIf="menuitem.type === 'link'">
        <mat-icon *ngIf="!menuitem.icon.includes('fas fa')">{{ menuitem.icon }}</mat-icon>
        <i *ngIf="menuitem.icon.includes('fas fa')" [class]="menuitem.icon" style="margin-right: 8px; font-size: 20px"></i>
        <span>{{ menuitem.name }}</span>
        <span fxFlex></span>
        <span class="label label-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
      </a>
  
      <!-- External link -->
      <a class="" appAccordionToggle href="{{ menuitem.state }}" *ngIf="menuitem.type === 'extLink'">
        <mat-icon>{{ menuitem.icon }}</mat-icon>
        <span>{{ menuitem.name }}</span>
        <span fxFlex></span>
        <span class="label label-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
      </a>
  
      <!-- External tab link -->
      <a class="" appAccordionToggle href="{{ menuitem.state }}" target="_blank" *ngIf="menuitem.type === 'extTabLink'">
        <mat-icon>{{ menuitem.icon }}</mat-icon>
        <span>{{ menuitem.name }}</span>
        <span fxFlex></span>
        <span class="label label-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
      </a>
  
      <!-- Submenu items -->
      <a class="subMenuParent" appAccordionToggle href="javascript:;" *ngIf="menuitem.type === 'sub'">
        <mat-icon *ngIf="!menuitem.icon.includes('fas fa')">{{ menuitem.icon }}</mat-icon>
        <i *ngIf="menuitem.icon.includes('fas fa')" [class]="menuitem.icon" style="margin-right: 8px; font-size: 20px"></i>
        <span>{{ menuitem.name }}</span>
        <span fxFlex></span>
        <span class="label label-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
        <mat-icon class="dd-icon show-more-less">keyboard_arrow_down</mat-icon>
      </a>
      <mat-nav-list class="sub-item" *ngIf="menuitem.type === 'sub'">
        <mat-nav-list class="sub-item" *ngFor="let childitem of subChildren(menuitem.children)">
          <mat-icon *ngIf="childitem.icon && !childitem.icon.includes('fas fa')">{{ childitem.icon }}</mat-icon>
          <i *ngIf="childitem.icon && childitem.icon.includes('fas fa')" [class]="childitem.icon" style="margin-right: 8px; font-size: 20px"></i>
          <span>{{ childitem.name }}</span>
        </mat-nav-list>
        <mat-list-item *ngFor="let childitem of nonsubChildren(menuitem.children)" routerLinkActive="selected">
          <a *ngIf="childitem.id" [routerLink]="childitem.state" class="relative" routerLinkActive="selected">
            <mat-icon *ngIf="childitem.icon && !childitem.icon.includes('fas fa')">{{ menuitem.icon }}</mat-icon>
            <i *ngIf="childitem.icon && childitem.icon.includes('fas fa')" [class]="childitem.icon" style="margin-right: 8px; font-size: 20px"></i>
            <span>{{ childitem.name }}</span></a>
            <a *ngIf="!childitem.id" [routerLink]="childitem.state" class="relative" routerLinkActive="selected">
            <mat-icon *ngIf="childitem.icon && !childitem.icon.includes('fas fa')">{{ childitem.icon }}</mat-icon>
            <i *ngIf="childitem.icon && childitem.icon.includes('fas fa')" [class]="childitem.icon" style="margin-right: 8px; font-size: 20px"></i>
            <span>{{ childitem.name }}</span></a
          >
        </mat-list-item>
      </mat-nav-list>
  
      <!-- Seperator -->
      <div class="saperator text-muted" *ngIf="menuitem.type === 'saperator'">
        <span>{{ menuitem.name }}</span>
      </div>
    </mat-list-item>
  </mat-nav-list>
  
  <div class="profile-img" style="position: absolute; left: 0px; bottom: 0px" *ngIf="minisidebar">
    <img src="assets/images/DIULogo.png" alt="Digital Intelligence Unit" height="70px" width="70px" />
  </div>
  <div class="profile-text" style="position: absolute; left: 5px; bottom: 5px" *ngIf="!minisidebar">
    <img src="assets/images/DIULogoWText.png" alt="Digital Intelligence Unit" width="230px" style="margin-top: 15px" />
  </div>